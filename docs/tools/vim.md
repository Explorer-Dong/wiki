---
title: Vim
---

本文介绍 Vim 的基本使用方法，官方文档（中文）见：<https://vimcdoc.sourceforge.net/>。

## 基本命令

Vim 是一款编辑器，旨在让程序员脱离鼠标，沉浸式编码。

Vim 总结起来一共有「阅读模式、编辑模式、命令行模式」三个模式。使用 `vim <file>` 命令打开或创建文件后会默认进入阅读模式，之后三个模式之间的转换如下图所示：

```mermaid
graph LR
    edit(编辑模式)
    read(阅读模式)
    command(命令行模式)
    edit --Esc--> read
    read --i--> edit
    read --:--> command
    command --Esc--> read
```

下面介绍 Vim 的一些基本命令。

### 阅读模式

| 命令               | 说明                                            |
| ------------------ | ----------------------------------------------- |
| `Esc`              | 进入阅读模式                                    |
| `h` `j` `k` `l`    | $\leftarrow\ \downarrow\ \uparrow\ \rightarrow$ |
| `5j`               | 往上跳转到第 5 行（开启相对行号）               |
| `6k`               | 往下跳转到第 6 行（开启相对行号）               |
| `gg`               | 移动到首行（游戏结束 good game）                |
| `G` 或 `Shift + g` | 移动到尾行                                      |
| `w`                | 跳到下一个单词首部 (word)                       |
| `e`                | 跳到下一个单词尾部 (end)                        |
| `b`                | 跳到上一个单词首部 (back)                       |
| `yy`               | 复制整行 (yank)                                 |
| `yw`               | 复制单词 (yank word)                            |
| `dd`               | 删除整行 (delete)                               |
| `dw`               | 删除单词并保持阅读模式 (delete word)            |
| `cw`               | 删除单词并进入编辑模式 (change word)            |
| `p`                | 粘贴 (paste)                                    |
| `2p`               | 连续复制 2 次                                   |
| `.`                | 重复上次命令                                    |
| `u`                | 撤销上次命令 (undo)                             |
| `Ctrl + r`         | 取消撤销上次命令                                |

### 编辑模式

| 命令               | 说明                           |
| ------------------ | ------------------------------ |
| `i`                | 左侧插入 (insert)              |
| `I` 或 `Shift + i` | 行首插入                       |
| `a`                | 右侧插入 (append)              |
| `A` 或 `Shift + a` | 行尾插入                       |
| `o`                | 下方新增一行 (open a new line) |
| `O` 或 `Shift + o` | 上方新增一行                   |

### 命令行模式

| 命令        | 说明                                                         |
| :---------- | :----------------------------------------------------------- |
| `:`         | 进入退出的命令模式                                           |
| `:q`        | 直接退出                                                     |
| `:q!`       | 不保存退出                                                   |
| `:wq`       | 保存并退出                                                   |
| `/`         | 进入搜索的命令模式，从光标位置从上往下搜索。输入待搜索的内容后回车进入阅读模式 |
| `?`         | 进入搜索的命令模式，从光标位置从下往上搜索。输入待搜索的内容后回车进入阅读模式 |
| `n`         | 搜索的下一个匹配项                                           |
| `Shift + n` | 搜索的上一个匹配项                                           |

## 软件配置

下面介绍 vim 的常见配置。

### 查看 vim 信息

```bash
vim --version
```

使用上述命令可以看到 vim 配置文件所在位置，例如 Git Bash 的系统 vimrc 文件为 `/etc/vimrc`，用户 vimrc 文件为 `$HOME/.vimrc`。

### 常见 vim 配置

```bash
# 显示行号
set number

# 显示相对行号
set relativanumber

# 高亮搜索结果
set hlsearch
```
