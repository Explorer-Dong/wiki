---
title: 物理层
---

![物理层](https://cdn.dwj601.cn/images/20250630211324518.png)

## 基本概念

物理层用来解决数据的比特流传输问题，一个数据通信系统的基本示意图如下所示：

![数据通信系统（数字信号转换为模拟信号过程叫做调制，逆过程就叫解调）](https://cdn.dwj601.cn/images/20250501203300182.png)

其主要由三部分组成，从左到右依次为：

1. 发送方：计算出的各种数据转化为比特流后，通过调制器将其转化为模拟信号，例如光信号、电磁信号等；
2. 传输网络：使用各种传输媒介，结合各种约定的数据交互逻辑（协议）将数据进行转发；
3. 接收方：通过解调器将模拟信号转化为比特流后解析出对应的内容，从而完成了数据传递的完整流程。

### 性能度量

**速率**。也就是我们常说的网速，表示传输介质每秒传输的数据量，也称为数据率、比特率。假设以比特数为度量单位，那么网速的单位就是比特每秒 (bit per second)，记作 $\text{bps}$ 或 $\text{bit/s}$。

**带宽 (Bandwidth)**。带宽即传输介质能够传输信号的频率范围，单位为赫兹，记作 $\text{Hz}$，本质是电磁波每秒的振动次数。带宽越宽，则速率越高。有时会将带宽表示为速率。

**时延 (Delay)**。端到端的数据传输延迟。主要有 4 部分组成：

1. 传输时延 (Transmission Delay)：数据从结点（主机、路由器等）到传输介质（也称信道）的时间开销；
2. 传播时延 (Propagation Delay)：数据在传输介质上传播的时间开销；
3. 处理时延 (Processing Delay)：接收端接收分组（划分为不同组别的数据）的时间开销；
4. 排队时延 (Queuing Delay)：分组在路由器的输入队列和输出队列中排队等待的时间延迟。

**时延带宽积**。传播时延与带宽的乘积，这里的带宽表示网速。时延带宽积可以用来计算链路上充满数据时的总数据量。

**往返时间 (Round-Trip Time, RTT)**。表示数据在信道上一个来回的时间，即两倍的传播时延。

**抖动**。最大延迟与最小延迟的时间差。

### 速率定理

**码元**。码元即一个信号波形的最小表示单位，一个码元最少需要 $1$ 个比特位来表示，那么使用 $m$ 个比特位表示的码元就有 $2^m$ 种状态，这类码元也被称为 $2^m$ 进制码元。

码元的传播速度（调制速度）叫做波特率 (baud)，比特的传播速度叫做比特率 (bps)。将波特率记作 $B$，比特率记作 $S$，则有 $S = B\cdot \log_2 k$，其中 $k$ 为码元的进制。

**网速上限**。在带宽为 $B$ 赫兹，码元为 $k$ 进制的信道中：

- 奈奎斯特 (Nyquist) 定理指出，若信道无噪声，则有最大数据传输速率 $R_{\max}=2\cdot B \cdot\log_2k\ (\text{bps})$；
- 香农 (Shannon) 定理指出，若信道的信噪比为 $S/N$，则有最大数据传输速率 $R_{\max}=B \cdot\log_2{(1+S/N)}\ (\text{bps})$。

*注：若要使用分贝 (dB) 来表示信噪比，则需要做转换：$10\cdot \log_{10}S/N\ (\text{dB})$。

### 传输介质

分为两种：

- 引导型介质：双绞线、光纤；
- 非引导型介质：电磁波。

## 多路复用

为了让多台终端同时使用一个传输信道而不互相干扰，不同的信号同时在同一信道中传输会产生严重的相互干扰，导致传输失败，所以需要设计一些规则让不同的信号在同一个信道上进行传输，也就是所谓的复用 (Multiplexing)，从而避免相互干扰，降低成本，提高利用率。

![复用基本逻辑](https://cdn.dwj601.cn/images/20250411083657499.png)

### 频分复用

![频分复用](https://cdn.dwj601.cn/images/20250411084534156.png)

如上图所示，通过频分复用，不同的信号对应到不同的频率带，从而不会相互干扰，共享信道。

### 时分复用

![时分复用](https://cdn.dwj601.cn/images/20250411084135683.png)

如上图所示，通过时分复用，不同的信号按照周期错位传输，从而不会相互干扰，共享信道。

### 码分复用

码分复用就是给每一个终端分配一个 $m$ 位的二进制码元，在将码元中的 $0$ 记作 $-1$ 的情况下，任意两个终端分配到的码元应当是正交的，即内积为 $0$。那么同一个终端的码元内积就是 $1$，码元与相反表示的内积为 $-1$。

数据在信道中的传输结果全部表示为所有码元之和，那么在判断一个信道中谁发了哪些数据时，只需要将每一个终端的码元与信道的数据进行内积即可：

- 如果算出来的是 $0$，就表示对应终端没有发送过数据到信道中；
- 如果算出来的是 $1$，就表示对应终端发送了 $1$ 到信道中；
- 如果算出来的是 $-1$，就表示对应终端发送了 $0$ 到信道中。

## 宽带接入

所谓宽带接入，就是让终端用户可以连接到互联网。主要有两类接入技术：

- 有线接入技术：非对称数字用户线 (ADSL)、光纤同轴混合网 (HPC)、光纤到 x (FFTx)；
- 无线接入技术：Wi-Fi、移动蜂窝。
